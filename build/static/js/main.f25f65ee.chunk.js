(this["webpackJsonpnoteful-master-yip"]=this["webpackJsonpnoteful-master-yip"]||[]).push([[0],Array(22).concat([function(e,t,n){e.exports=n(49)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),l=n(5),u=n(16),i=n(2),s=n(1),d=n(4),m=n(3),f=n(10),h=(n(27),n(28),n(29),r.a.createContext({notes:[],folders:[],addFolder:function(){},addNote:function(){},deleteNote:function(){},setNote:function(){},setFolder:function(){},currentNote:null,currentFolder:null,fetchData:function(){}})),v=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).checkFolder=function(){return null===e.context.currentFolder?r.a.createElement("li",{className:"folderButton"},e.props.folder.name):null!==e.context.currentFolder?e.context.currentFolder.id===e.props.folder.id?r.a.createElement("li",{className:"currentFolder folderButton"},e.props.folder.name):r.a.createElement("li",{className:"folderButton"},e.props.folder.name):void 0},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(l.b,{className:"folderButtonLink",to:"/folder/".concat(this.props.folder.id),onClick:function(){e.context.setFolder(e.props.folder)}},this.checkFolder())}}]),n}(a.Component);v.contextType=h;var p=v,b=(n(35),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(l.b,{to:"/AddFolder",className:"addFolderButton"},"Add folder")}}]),n}(a.Component)),N=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"sideBar"},r.a.createElement("ul",{className:"folderButtonContainer"},this.context.folders.map((function(e,t){return r.a.createElement(p,{folder:e,key:t})}))),r.a.createElement(b,null))}}]),n}(a.Component);N.contextType=h;var E=N,y="https://young-meadow-57359.herokuapp.com/api",j=(n(36),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(h.Consumer,null,(function(t){return r.a.createElement(l.b,{to:"/"},r.a.createElement("button",{className:"deleteButton",onClick:function(){var n,a;n=e.props.noteId,a=t.deleteNote,fetch("".concat(y,"/notes/").concat(n),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e:e.json().then((function(e){throw e}))})).then((function(e){a(n)})).catch((function(e){console.error(e)}))}},"Delete Note"))}))}}]),n}(a.Component));j.contextType=h;var O=j,k=(n(37),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;var t,n=(t=this.props.note.modified,new Date(t).toDateString());return r.a.createElement("div",{className:"noteItem"},r.a.createElement("div",{className:"noteInfo"},r.a.createElement(l.b,{className:"noteName",to:"/note/".concat(this.props.note.id),onClick:function(){e.context.setNote(e.props.note)}},this.props.note.name),r.a.createElement("p",{className:"date"},"Date modified on ",n," ")),r.a.createElement(O,{noteId:this.props.note.id}))}}]),n}(a.Component));k.contextType=h;var F=k,x=(n(38),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(l.b,{to:"/AddNote",className:"addNoteLink"},r.a.createElement("button",{className:"addNoteButton"},"Add note"))}}]),n}(a.Component)),C=(n(39),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},this.context.notes.map((function(e,t){return r.a.createElement(F,{note:e,key:t})})),r.a.createElement(x,null))}}]),n}(a.Component));C.contextType=h;var g=C,S=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(s.a)(n,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("h2",null,"Could not display your notes. Please try again later."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component),D=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(S,null,r.a.createElement("div",{className:"contentContainer homePage"},r.a.createElement(E,null),r.a.createElement(g,null)))}}]),n}(a.Component),B=(n(40),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(h.Consumer,null,(function(t){return r.a.createElement("header",null,r.a.createElement("div",null),r.a.createElement(l.b,{to:"/",onClick:function(){e.context.setFolder(null)}},"Noteful"))}))}}]),n}(a.Component));B.contextType=h;var T=B,w=(n(41),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"folderMain"},this.context.notes.map((function(t,n){if(e.context.currentFolder.id===t.folderid)return r.a.createElement(F,{note:t,key:n})})),r.a.createElement(x,null))}}]),n}(a.Component));w.contextType=h;var I=w,q=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.context.notes.length&&this.context.folders.length&&this.context.currentFolder||this.context.fetchData()}},{key:"componentWillUpdate",value:function(e){if(console.log(e),!this.context.currentFolder){var t=e.props.match,n=this.context.folders.find((function(e){return e.id===t.params.folderId}));this.context.setFolder(n)}}},{key:"render",value:function(){return this.context.folders.length&&this.context.notes.length&&this.context.currentFolder?r.a.createElement(S,null,r.a.createElement("div",{className:"contentContainer folderPage"},r.a.createElement(E,null),r.a.createElement(I,null))):null}}]),n}(a.Component);q.contextType=h;var A=q,P=(n(42),n(43),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(h.Consumer,null,(function(e){return r.a.createElement(l.b,{to:"/",className:"backButton"},"Go back")}))}}]),n}(a.Component));P.contextType=h;var L=P,R=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.context.folders.find((function(t){return t.id===e.context.currentNote.folderid})).name;return r.a.createElement("div",{className:"sideBar noteSideBar"},r.a.createElement(L,null),r.a.createElement("p",null,t))}}]),n}(a.Component);R.contextType=h;var J=R,M=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=(e=this.context.currentNote.modified,new Date(e).toDateString());return r.a.createElement("div",{className:"noteItem"},r.a.createElement("div",{className:"noteInfo"},r.a.createElement("p",{className:"noteName"},this.context.currentNote.name),r.a.createElement("p",{className:"date"},"Date modified on ",t," ")),r.a.createElement(O,{noteId:this.context.currentNote.id}))}}]),n}(a.Component);M.contextType=h;var U=M,W=(n(44),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(U,null),r.a.createElement("p",{className:"content"},this.context.currentNote.content))}}]),n}(a.Component));W.contextType=h;var G=W,z=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.context.notes.length&&this.context.folders.length&&this.context.currentNote||this.context.fetchData()}},{key:"componentWillUpdate",value:function(e){if(!this.context.currentNote){var t=e.props.match,n=this.context.notes.find((function(e){return e.id===t.params.noteId}));this.context.setNote(n)}}},{key:"render",value:function(){return this.context.notes.length&&this.context.folders.length&&this.context.currentNote?r.a.createElement(S,null,r.a.createElement("div",{className:"contentContainer"},r.a.createElement(J,null),r.a.createElement(G,null))):null}}]),n}(a.Component);z.contextType=h;var H=z;n(45);function K(e){return e.message?r.a.createElement("div",{className:"error"},e.message):r.a.createElement(r.a.Fragment,null)}n(46);var Q=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={folderName:{value:"",touched:!1}},a}return Object(s.a)(n,[{key:"validateFolderName",value:function(){if(0===this.state.folderName.value.length)return"Folder name is required."}}]),Object(s.a)(n,[{key:"updateFolderName",value:function(e){this.setState({folderName:{value:e,touched:!0}})}},{key:"makeSubmitButton",value:function(){var e=this;return this.validateFolderName()?r.a.createElement(l.b,{onClick:function(){e.context.setFolder({})},className:"formSubmitLink",to:"/"},r.a.createElement("button",{disabled:this.validateFolderName(),className:"formSubmit disabled",type:"submit",onClick:function(){return e.addFolderRequest(e.state.folderName.value,e.context.addFolder)}},"Submit")):r.a.createElement(l.b,{onClick:function(){e.context.setFolder({})},className:"formSubmitLink",to:"/"},r.a.createElement("button",{className:"formSubmit notDisabled",type:"submit",onClick:function(){return e.addFolderRequest(e.state.folderName.value,e.context.addFolder)}},"Submit"))}},{key:"addFolderRequest",value:function(e,t){fetch("".concat(y,"/folders"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e}))})).then((function(e){t(e)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(h.Consumer,null,(function(t){return r.a.createElement(S,null,r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"sideBar formSideBar"},r.a.createElement(L,null)),r.a.createElement("div",{className:"main"},r.a.createElement("form",{className:"newFolder"},r.a.createElement("p",{className:"formTitle"},"Create a New Folder"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"folderName"},"Folder Name*"),r.a.createElement("input",{type:"text",name:"folderName",id:"folderName",onChange:function(t){return e.updateFolderName(t.target.value)}}),e.state.folderName.touched&&r.a.createElement(K,{message:e.validateFolderName()})),e.makeSubmitButton()))))}))}}]),n}(a.Component);Q.contextType=h;var V=Q;function X(e){return e.message?r.a.createElement("div",{className:"error"},e.message):r.a.createElement(r.a.Fragment,null)}n(47);var Y=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={noteName:{value:"",touched:!1},folder:{value:"",touched:!1},content:{value:"",touched:!1},date:""},a}return Object(s.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"makeDate",value:function(){return(new Date).toDateString()}},{key:"setDate",value:function(){console.log("date")}},{key:"validateNoteName",value:function(){if(0===this.state.noteName.value.length)return"Note name is required."}},{key:"updateNoteName",value:function(e){this.setState({noteName:{value:e,touched:!0}})}},{key:"validateFolder",value:function(){if(""===this.state.folder.value)return"Folder selection is required."}},{key:"updateFolder",value:function(e){this.setState({folder:{value:e,touched:!0}})}},{key:"validateContent",value:function(){if(0===this.state.content.value.length)return"Content is required."}},{key:"updateContent",value:function(e){this.setState({content:{value:e,touched:!0}})}}]),Object(s.a)(n,[{key:"makeSubmitButton",value:function(){var e=this;return this.validateNoteName()||this.validateFolder()||this.validateContent()?r.a.createElement(l.b,{onClick:function(){e.context.setFolder({})},className:"formSubmitLink",to:"/"},r.a.createElement("button",{type:"submit",className:"formSubmit disabled",disabled:this.validateNoteName()||this.validateFolder()||this.validateContent(),onClick:function(){return e.addNoteRequest(e.state.noteName.value,e.state.folder.value,e.state.content.value,e.context.addNote)}},"Submit")):r.a.createElement(l.b,{onClick:function(){e.context.setFolder({})},className:"formSubmitLink",to:"/"},r.a.createElement("button",{type:"submit",className:"formSubmit notDisabled",onClick:function(){return e.addNoteRequest(e.state.noteName.value,e.state.folder.value,e.state.content.value,e.context.addNote)}},"Submit"))}},{key:"addNoteRequest",value:function(e,t,n,a){var r=(new Date).toDateString();fetch("".concat(y,"/notes"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e,folderid:t,content:n,modified:r})}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e}))})).then((function(e){a(e)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(h.Consumer,null,(function(t){return r.a.createElement(S,null,r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"sideBar formSideBar"},r.a.createElement(L,null)),r.a.createElement("div",{className:"main"},r.a.createElement("form",{className:"newNote"},r.a.createElement("p",{className:"formTitle"},"Create a New Note"),r.a.createElement("div",{className:"form-group",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("label",{htmlFor:"noteName"},"Note Name*"),r.a.createElement("input",{type:"text",name:"noteName",id:"noteName",onChange:function(t){return e.updateNoteName(t.target.value)}}),e.state.noteName.touched&&r.a.createElement(X,{message:e.validateNoteName()})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"folder"},"Folder*"),r.a.createElement("select",{name:"folder",id:"folder",onChange:function(t){return e.updateFolder(t.target.options[t.target.selectedIndex].value)}},r.a.createElement("option",{value:""},"Select a folder"),e.context.folders.map((function(e,t){return r.a.createElement("option",{value:e.id,key:t},e.name)}))),e.state.folder.touched&&r.a.createElement(X,{message:e.validateFolder()})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"content"},"Content*"),r.a.createElement("input",{type:"text",name:"content",id:"content",onChange:function(t){return e.updateContent(t.target.value)}}),e.state.content.touched&&r.a.createElement(X,{message:e.validateContent()})),e.makeSubmitButton()))))}))}}]),n}(a.Component);Y.contextType=h;var Z=Y,$=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={notes:[],folders:[],currentNote:null,currentFolder:null,folderForm:{value:null,touched:!1}},e.deleteNote=function(t){var n=e.state.notes.filter((function(e){return e.id!==t}));e.setState({notes:n,currentFolder:null})},e.setNote=function(t){e.setState({currentNote:t})},e.setFolder=function(t){e.setState({currentFolder:t})},e.setFolderForm=function(t){e.setState({folderForm:{value:t,touched:!0}})},e.addFolder=function(t){e.state.folders.push(t),e.fetchData()},e.addNote=function(t){e.state.notes.push(t),e.fetchData()},e.fetchData=function(){Promise.all([fetch("".concat(y,"/notes")),fetch("".concat(y,"/folders"))]).then((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return n.ok?a.ok?Promise.all([n.json(),a.json()]):a.json().then((function(e){return Promise.reject(e)})):n.json().then((function(e){return Promise.reject(e)}))})).then((function(t){var n=Object(u.a)(t,2),a=n[0],r=n[1];e.setState({notes:a,folders:r})})).catch((function(e){console.error({error:e})}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={notes:this.state.notes,folders:this.state.folders,currentNote:this.state.currentNote,currentFolder:this.state.currentFolder,setNote:this.setNote,setFolder:this.setFolder,fetchData:this.fetchData,deleteNote:this.deleteNote,addFolder:this.addFolder,addNote:this.addNote};return r.a.createElement(h.Provider,{value:e},r.a.createElement("main",{className:"App"},r.a.createElement(S,null,r.a.createElement(T,null),r.a.createElement("div",null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(D,null)}}),r.a.createElement(f.a,{path:"/folder/:folderId",render:function(e){return r.a.createElement(A,{props:e})}}),r.a.createElement(f.a,{path:"/note/:noteId",render:function(e){return r.a.createElement(H,{props:e})}}),r.a.createElement(f.a,{path:"/AddFolder",render:function(e){return r.a.createElement(V,null)}}),r.a.createElement(f.a,{path:"/AddNote",render:function(e){return r.a.createElement(Z,null)}})))))}}]),n}(a.Component);n(48);c.a.render(r.a.createElement(l.a,null,r.a.createElement($,null)),document.getElementById("root"))}]),[[22,1,2]]]);
//# sourceMappingURL=main.f25f65ee.chunk.js.map